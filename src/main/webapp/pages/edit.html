<!DOCTYPE html>
<html>
<head>
	<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-rc.0/angular.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-rc.0/angular-cookies.min.js"></script>
	<script src="./myApp.js"></script>
	<link rel="icon" type="image/png" href="./angular.png">

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

	<meta charset="UTF-8">
	<title>VibrantKafka | Manage</title>
	<meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
	<!-- Bootstrap 3.3.2 -->
	<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
	<!-- Font Awesome Icons -->
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
	<!-- Theme style -->
	<link href="dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
	<!-- iCheck -->
	<link href="plugins/iCheck/square/blue.css" rel="stylesheet" type="text/css" />

	<link href="https://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />

	<!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
	<link href="dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->


	<link rel="stylesheet" href="plugins/chosen/prism.css">
	<link rel="stylesheet" href="plugins/chosen/chosen.css">

	<script src="plugins/chosen/prototype-1.7.0.0.js" type="text/javascript"></script>
	<script src="plugins/chosen/jquery-3.2.1.min.js" type="text/javascript"></script>
	<script src="plugins/chosen/chosen.jquery.js" type="text/javascript"></script>
	<script src="plugins/chosen/chosen.proto.js" type="text/javascript"></script>
	<script src="plugins/chosen/prism.js" type="text/javascript" charset="utf-8"></script>
	<script src="plugins/chosen/init.proto.js" type="text/javascript" charset="utf-8"></script>
	<script src="plugins/chosen/init.js" type="text/javascript" charset="utf-8"></script>

	<style>
		.error {
			color:       red;
			font-weight: bold;
			font-style:  italic;
			display:     inline-block;
		}

		.modal {
			display: block; /* Hidden by default */
			position: fixed; /* Stay in place */
			z-index: 1; /* Sit on top */
			padding-top: 100px; /* Location of the box */
			left: 0;
			top: 0;
			width: 100%; /* Full width */
			height: 100%; /* Full height */
			overflow: auto; /* Enable scroll if needed */
			background-color: rgb(0,0,0); /* Fallback color */
			background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
		}
	</style>

	<div class="modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">Work in progress...</h4>
				</div>
				<div class="modal-body">
					<p>Please wait...</p>
					<img src="images/Spinner-1s-200px.gif" alt="spinner" style="margin-left:auto; margin-right:auto; display: none;" />
				</div>
				<div class="modal-footer">
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<link rel="shortcut icon" href="images/logos/reel-tape-recorder-favicon.png" type="image/x-icon">
	<link rel="icon" href="images/logos/reel-tape-recorder-favicon.png" type="image/x-icon">
</head>
<!-- ADD THE CLASS layout-top-nav TO REMOVE THE SIDEBAR. -->
<body class="skin-blue layout-top-nav" ng-app='myApp' ng-controller="topController">
<div class="wrapper" ng-controller="editController">

	<header class="main-header">
		<nav class="navbar navbar-static-top">
			<div class="container-fluid">
				<div class="navbar-header">
					<a href="user.html" class="navbar-brand"><b>VibrantKafka</b> {{version}}</a>
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
						<i class="fa fa-bars"></i>
					</button>
				</div>

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="navbar-collapse">
					<ul class="nav navbar-nav navbar-right">
						<li ng-hide="!isAdmin"><a href="admin.html">> Admin Page</a></li>
					</ul>
				</div><!-- /.navbar-collapse -->
			</div><!-- /.container-fluid -->
		</nav>
	</header>
	<!-- Full Width Column -->
	<div class="content-wrapper">
		<div class="container-fluid">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					Edit User Profile
					<small>{{username}}</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="user.html"><i class="fa fa-dashboard"></i> Home</a></li>
					<li class="active">Profile</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<div class="callout callout-info">
					<h4>{{data.firstname}} {{data.lastname}}</h4>

					<div class="box-body">
					<ng-form name="myForm" style="margin:10px;padding:10px">
						<div class="form-group has-feedback">
							<span style="display:inline-block; font-weight: bold; width:170px">Firstname:</span>
							<input type="text" ng-model="data.firstname" name="firstname" size="50" style="color:#444" required placeholder="Firstname"/>
							<!--span class="glyphicon glyphicon-user form-control-feedback"></span-->
							<span class="error" ng-show="myForm.firstname.$invalid">
								<span ng-show="myForm.firstname.$error.required">* Firstname is required.</span>
            				</span>
						</div>
						<div class="form-group has-feedback">
							<span style="display:inline-block; font-weight: bold; width:170px">Lastname:</span>
							<input type="text" ng-model="data.lastname" name="lastname" size="50" style="color:#444" required placeholder="Lastname"/>
							<!--span class="glyphicon glyphicon-user form-control-feedback"></span-->
            				<span class="error" ng-show="myForm.lastname.$invalid">
            					<span ng-show="myForm.lastname.$error.required">* Lastname is required.</span>
            				</span>
						</div>
						<div class="form-group has-feedback">
							<span style="display:inline-block; font-weight: bold; width:170px">E-mail address:</span>
							<input type="text" ng-model="data.email" name="email" size="50" style="color:#444" required placeholder="Email"/>
							<!--span class="glyphicon glyphicon-envelope form-control-feedback"></span-->
            				<span class="error" ng-show="myForm.email.$invalid">
            					<span ng-show="myForm.email.$error.required">* E-mail is required.</span>
            				</span>
						</div>
						<div class="form-group has-feedback">
							<span style="display:inline-block; font-weight: bold; width:170px">MSISDN:</span>
							<input type="text" ng-model="data.msisdn" name="msisdn" size="50" style="color:#444" required placeholder="MSISDN"/>
							<!--span class="glyphicon glyphicon-envelope form-control-feedback"></span-->
            				<span class="error" ng-show="myForm.msisdn.$invalid">
            					<span ng-show="myForm.msisdn.$error.required">* MSISDN is required.</span>
            				</span>
						</div>

						<p><span style="display:inline-block; font-weight: bold; width:170px">Member since:</span>
							<label>{{data.creationDate}}</label>
						</p>
						<p><span style="display:inline-block; font-weight: bold; width:170px">Region of interest:</span>
							<label>{{data.region}}</label>
							<!--select class="select form-control" multiple required style="width:500px">
								<option class="myoption" ng-repeat="country in countries" ng-selected="selectCountries.indexOf(country)>=0">{{country}}</option>
							</select>
							<span class="error" ng-show="!selectCountries || selectCountries.length==0 ">* Region is required.</span-->
						</p>
						<input type="button" value="Update" ng-click='update()' style="margin-top:20px;color:#444">
					</ng-form>
					</div>
				</div>
			</section>
		</div><!-- /.container -->
	</div><!-- /.content-wrapper -->
	<footer class="main-footer">
		<div class="container-fluid">
			<div class="pull-right hidden-xs">
				<b>Version</b> {{version}}
			</div>
			<strong>HomeGrown Research Labs</strong> Ομήρου 39, Άγιος Δημήτριος
		</div><!-- /.container -->
	</footer>
</div><!-- ./wrapper -->

<script>
	$(document).ready(function(){$(".select").chosen();});
	$(document).ready(function(){
		$(".search-choice-close").click(function() {
			document.getElementById('myOptionBinding').value = this.parentNode.innerText;
			document.getElementById('eventButtonOut').click();
		});
		$(".chosen-search-input").keydown(function(e){
			console.log("keydown");
			if(e.which == 13){
				console.log("enter");
				console.log($(".highlighted").html());
				var selectedText = $(".highlighted").html();
				selectedText = selectedText.replace('<em>','');
				selectedText = selectedText.replace('</em>','');
				document.getElementById('myOptionBinding').value = selectedText;
				setTimeout(function(){ document.getElementById('eventButtonIn').click();},500);
				console.log("click in ");
				$(".search-choice-close").click(function() {
					console.log("click out");
					document.getElementById('myOptionBinding').value = this.parentNode.innerText;
					document.getElementById('eventButtonOut').click();
				});
			}
		});
		$(document).on('click','.myoption',function() {
			document.getElementById('myOptionBinding').value = this.innerHTML;
			document.getElementById('eventButtonIn').click();
			$(".search-choice-close").click(function() {
				document.getElementById('myOptionBinding').value = this.parentNode.innerText;
				document.getElementById('eventButtonOut').click();
			});
		});
	});
</script>

<input type="hidden" id="myOptionBinding">
<input id='eventButtonIn' type="button" ng-click="$broadcast('recycleIn')" style="display:none"/>
<input id='eventButtonOut' type="button" ng-click="$broadcast('recycleOut')" style="display:none"/>

<!-- iCheck >
<script src="plugins/iCheck/icheck.min.js" type="text/javascript"></script>
<script>
	$(function () {
		$('input').iCheck({
			checkboxClass: 'icheckbox_square-blue',
			radioClass: 'iradio_square-blue',
			increaseArea: '20%' // optional
		});
	});
</script-->
</body>
</html>
